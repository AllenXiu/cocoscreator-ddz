{"version":3,"sources":["../../../../assets/Script/assets/Script/playing.js"],"names":["cc","Class","extends","Component","properties","poker","Prefab","pokerSpriteFrameMap","default","visible","allPokers","onLoad","loadRes","self","loader","SpriteAtlas","err","assets","console","log","sflist","getSpriteFrames","i","length","sf","_name","startPoker","startx","pokerSprite","instantiate","Poker","getComponent","pokerName","creatCard","_imageName","Sprite","spriteFrame","gap","scale","node","addChild","x","setPosition","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM,MADF,EACa;AACrBC,6BAAqB;AACjBC,qBAAS,EADQ;AAEjBC,qBAAS;AAFQ,SAFb;AAMRC,mBAAU,EANF,CAMO;AANP,KAHP;;AAYL;;AAEAC,UAdK,oBAcK;AACN,aAAKC,OAAL;AACH,KAhBI;;;AAkBL;AACAA,WAnBK,qBAmBK;;AAEN,YAAIC,OAAO,IAAX;AACAb,WAAGc,MAAH,CAAUF,OAAV,CAAkB,OAAlB,EAA2BZ,GAAGe,WAA9B,EAA2C,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC9DC,oBAAQC,GAAR,CAAY,SAASF,MAArB;;AAEA,gBAAIG,SAASH,OAAOI,eAAP,EAAb;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,OAAOG,MAA3B,EAAmCD,GAAnC,EAAwC;AACpC,oBAAIE,KAAKJ,OAAOE,CAAP,CAAT;AACAT,qBAAKN,mBAAL,CAAyBiB,GAAGC,KAA5B,IAAqCD,EAArC;AACH;AACDN,oBAAQC,GAAR,CAAY,YAAZ;AACH,SATD;AAaH,KAnCI;AAoCLO,cApCK,wBAoCO;AACR,YAAIC,SAAS,KAAK,CAAlB,CADQ,CACY;AACpB,aAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;;AAEzB,gBAAIM,cAAc5B,GAAG6B,WAAH,CAAe,KAAKxB,KAApB,CAAlB;AACA,gBAAIyB,QAAQF,YAAYG,YAAZ,CAAyB,OAAzB,CAAZ;AACA,gBAAIC,YAAaF,MAAMG,SAAN,CAAgBX,IAAE,CAAlB,EAAqBY,UAAtC;AACAhB,oBAAQC,GAAR,CAAY,OAAKa,SAAjB;AACAJ,wBAAYG,YAAZ,CAAyB/B,GAAGmC,MAA5B,EAAoCC,WAApC,GAAkD,KAAK7B,mBAAL,CAAyByB,SAAzB,CAAlD;;AAEA,gBAAIK,MAAM,EAAV,CARyB,CAQZ;AACbT,wBAAYU,KAAZ,GAAoB,GAApB;;AAEA,iBAAKC,IAAL,CAAUC,QAAV,CAAmBZ,WAAnB;AACA,gBAAIa,IAAK,CAACd,MAAF,GAAYU,GAAZ,GAAkBf,IAAIe,GAA9B;AACA;AACAT,wBAAYc,WAAZ,CAAwBD,CAAxB,EAA2B,CAA3B;AACH;AACJ,KAtDI;AAuDLE,SAvDK,mBAuDI,CAER;AAzDI;;AA2DL;AA3DJ","file":"playing.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        poker: cc.Prefab,    //扑克\n        pokerSpriteFrameMap: {\n            default: {},\n            visible: false,\n        },\n        allPokers:[],  //所有牌\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.loadRes();\n    },\n\n    //加载卡片资源\n    loadRes() {\n\n        let self = this;\n        cc.loader.loadRes('poker', cc.SpriteAtlas, function (err, assets) {\n            console.log('====' + assets);\n\n            let sflist = assets.getSpriteFrames();\n            for (let i = 0; i < sflist.length; i++) {\n                let sf = sflist[i];\n                self.pokerSpriteFrameMap[sf._name] = sf;\n            }\n            console.log(\"获取完全部Poker\")\n        });\n\n        \n        \n    },\n    startPoker(){\n        let startx = 54 / 2;//开始x坐标\n        for (let i = 0; i < 54; i++) {\n\n            let pokerSprite = cc.instantiate(this.poker);\n            var Poker = pokerSprite.getComponent('Poker');\n            var pokerName =  Poker.creatCard(i+1)._imageName;\n            console.log(\"名称\"+pokerName);\n            pokerSprite.getComponent(cc.Sprite).spriteFrame = this.pokerSpriteFrameMap[pokerName];\n\n            let gap = 15;//牌间隙\n            pokerSprite.scale = 0.7;\n\n            this.node.addChild(pokerSprite);\n            let x = (-startx) * gap + i * gap;\n            // console.log(x);\n            pokerSprite.setPosition(x, 0);\n        }\n    },\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n"]}