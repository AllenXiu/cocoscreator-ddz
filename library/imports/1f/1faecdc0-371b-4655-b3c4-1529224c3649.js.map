{"version":3,"sources":["../../../../assets/Script/assets/Script/StartRoom.js"],"names":["cc","Class","extends","Component","properties","roomNumber","EditBox","userName","createCallback","event","number","string","name","alert","Network","socket","emit","on","flag","Global","playerName","roomNum","director","loadScene","joinCallback","roomWaitType","onLoad","initNetwork","start"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM,OADP;AAERC,kBAAUP,GAAGM;AAFL,KAHP;AAOL;AACAE,kBARK,0BAQUC,KARV,EAQiB;AAClB,YAAIC,SAAS,KAAKL,UAAL,CAAgBM,MAA7B;AACA,YAAIC,OAAO,KAAKL,QAAL,CAAcI,MAAzB;AACA;AACA,YAAID,UAAU,EAAd,EAAkB;AACdG,kBAAM,QAAN;AACH,SAFD,MAEO,IAAID,QAAQ,EAAZ,EAAgB;AACnBC,kBAAM,OAAN;AACH,SAFM,MAEA;AACHC,oBAAQC,MAAR,CAAeC,IAAf,CAAoB,WAApB,EAAiCN,MAAjC,EAAyCE,IAAzC;AACAE,oBAAQC,MAAR,CAAeE,EAAf,CAAkB,iBAAlB,EAAqC,UAAUC,IAAV,EAAgB;AACjD,oBAAIA,IAAJ,EAAU;AACNC,2BAAOC,UAAP,GAAoBR,IAApB;AACAO,2BAAOE,OAAP,GAAiBX,MAAjB;AACA;AACAV,uBAAGsB,QAAH,CAAYC,SAAZ,CAAsB,aAAtB;AACH,iBALD,MAKO;AACHV,0BAAM,cAAN;AACH;AACJ,aATD;AAWH;AACJ,KA9BI;;;AAgCL;AACAW,gBAjCK,wBAiCQf,KAjCR,EAiCe;AAChB,YAAIC,SAAS,KAAKL,UAAL,CAAgBM,MAA7B;AACA,YAAIC,OAAO,KAAKL,QAAL,CAAcI,MAAzB;AACA;AACA,YAAID,UAAU,EAAd,EAAkB;AACdG,kBAAM,QAAN;AACH,SAFD,MAEO,IAAID,QAAQ,EAAZ,EAAgB;AACnBC,kBAAM,OAAN;AACH,SAFM,MAEA;AACH;AACAC,oBAAQC,MAAR,CAAeE,EAAf,CAAkB,cAAlB,EAAkC,UAAUC,IAAV,EAAgB;AAC9C,oBAAIA,IAAJ,EAAU;AACNC,2BAAOC,UAAP,GAAoBR,IAApB;AACAO,2BAAOE,OAAP,GAAiBX,MAAjB;AACAS,2BAAOM,YAAP,GAAsB,MAAtB;AACA;AACAzB,uBAAGsB,QAAH,CAAYC,SAAZ,CAAsB,aAAtB;AACH,iBAND,MAMK;AACDV,0BAAM,QAAN;AACH;AACJ,aAVD;AAWAC,oBAAQC,MAAR,CAAeC,IAAf,CAAoB,UAApB,EAAgCN,MAAhC,EAAuCE,IAAvC;AAEH;AACJ,KAzDI;AA0DLc,UA1DK,oBA0DI;AACL;AACAZ,gBAAQa,WAAR;AACH,KA7DI;AA+DLC,SA/DK,mBA+DG,CAEP;AAjEI;;AAmEL;AAnEJ","file":"StartRoom.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        roomNumber: cc.EditBox,\n        userName: cc.EditBox,\n    },\n    //创建房间\n    createCallback(event) {\n        let number = this.roomNumber.string;\n        let name = this.userName.string;\n        // alert(playerName);\n        if (number == '') {\n            alert('请输入房间号');\n        } else if (name == '') {\n            alert('请输入昵称');\n        } else {\n            Network.socket.emit('creatRoom', number, name);\n            Network.socket.on('creatRoomReturn', function (flag) {\n                if (flag) {\n                    Global.playerName = name;\n                    Global.roomNum = number;\n                    // 跳转房间等候场景\n                    cc.director.loadScene('WaitingRoom');\n                } else {\n                    alert('房间已存在您可以加入游戏');\n                }\n            });\n\n        }\n    },\n\n    //加入房间\n    joinCallback(event) {\n        let number = this.roomNumber.string;\n        let name = this.userName.string;\n        // alert(playerName);\n        if (number == '') {\n            alert('请输入房间号');\n        } else if (name == '') {\n            alert('请输入昵称');\n        } else {\n            //加入房间号\n            Network.socket.on('joinRoomBack', function (flag) {\n                if (flag) {\n                    Global.playerName = name;\n                    Global.roomNum = number;\n                    Global.roomWaitType = \"join\"\n                    // 跳转房间等候场景\n                    cc.director.loadScene('WaitingRoom');\n                }else{\n                    alert('房间无法加入');\n                }\n            });\n            Network.socket.emit('joinRoom', number,name);\n\n        }\n    },\n    onLoad() {\n        //启动网络\n        Network.initNetwork();\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});"]}